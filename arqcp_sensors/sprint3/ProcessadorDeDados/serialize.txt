#include <stdio.h>
#include <string.h>

// Define a structure to serialize
struct Person {
char name[50];
int age;
float height;
};

// Function to serialize the structure
void serialize(struct Person* person, FILE* file) {
fwrite(person, sizeof(struct Person), 1, file);
}

// Function to deserialize the structure
void deserialize(struct Person* person, FILE* file) {
fread(person, sizeof(struct Person), 1, file);
}

int main() {
// Create an instance of the structure
struct Person person;
strcpy(person.name, "John");
person.age = 30;
person.height = 6.1;

// Serialize the structure to a file

FILE* file = fopen("person_data.bin", "wb");
if (file != NULL) {
    serialize(&person, file);
    fclose(file);
}

// Deserialize the structure from the file

struct Person newPerson;
file = fopen("person_data.bin", "rb");
if (file != NULL) {
    deserialize(&newPerson, file);
    fclose(file);

    // Display deserialized data
    printf("Name: %s\n", newPerson.name);
    printf("Age: %d\n", newPerson.age);
    printf("Height: %.2f\n", newPerson.height);
}

return 0;
}
